(() => { "use strict"; var __webpack_modules__ = ([, ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => { __webpack_require__.r(__webpack_exports__); __webpack_require__.d(__webpack_exports__, { "isWebp": () => (isWebp) }); function isWebp() { function testWebP(callback) { var webP = new Image(); webP.onload = webP.onerror = function () { callback(webP.height == 2) }; webP.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA" } testWebP(function (support) { if (support == true) { document.querySelector('body').classList.add('webp') } else { document.querySelector('body').classList.add('no-webp') } }) } })]); var __webpack_module_cache__ = {}; function __webpack_require__(moduleId) { var cachedModule = __webpack_module_cache__[moduleId]; if (cachedModule !== undefined) { return cachedModule.exports } var module = __webpack_module_cache__[moduleId] = { exports: {} }; __webpack_modules__[moduleId](module, module.exports, __webpack_require__); return module.exports } (() => { __webpack_require__.d = (exports, definition) => { for (var key in definition) { if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) { Object.defineProperty(exports, key, { enumerable: true, get: definition[key] }) } } } })(); (() => { __webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop)) })(); (() => { __webpack_require__.r = (exports) => { if (typeof Symbol !== 'undefined' && Symbol.toStringTag) { Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' }) } Object.defineProperty(exports, '__esModule', { value: true }) } })(); var __webpack_exports__ = {}; (() => { __webpack_require__.r(__webpack_exports__); var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1); _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp(); document.addEventListener("DOMContentLoaded", function () { const menuIcon = document.querySelector(".menu-toggle"); const menuBody = document.querySelector(".header__bottom"); const body = document.querySelector("body"); if (menuIcon && menuBody) { menuIcon.addEventListener("click", function () { menuIcon.classList.toggle("active"); menuBody.classList.toggle("active"); body.classList.toggle("no-scroll") }); menuBody.addEventListener("click", function (event) { if (event.target.tagName === "A" || event.target.closest("a")) { menuIcon.classList.remove("active"); menuBody.classList.remove("active"); body.classList.remove("no-scroll") } }); document.addEventListener("click", function (event) { if (!menuBody.contains(event.target) && !menuIcon.contains(event.target)) { menuIcon.classList.remove("active"); menuBody.classList.remove("active"); body.classList.remove("no-scroll") } }) } }); document.addEventListener('DOMContentLoaded', () => { const previewElements = document.querySelectorAll('.reviews__preview'); const customCursor = document.querySelector('.custom-cursor'); if (previewElements.length === 0 || !customCursor) return; function enableCustomCursor() { previewElements.forEach(preview => { preview.addEventListener('mouseenter', showCursor); preview.addEventListener('mouseleave', hideCursor); preview.addEventListener('mousemove', moveCursor) }) } function disableCustomCursor() { customCursor.style.display = 'none'; previewElements.forEach(preview => { preview.removeEventListener('mouseenter', showCursor); preview.removeEventListener('mouseleave', hideCursor); preview.removeEventListener('mousemove', moveCursor) }) } function showCursor() { customCursor.style.display = 'flex' } function hideCursor() { customCursor.style.display = 'none' } function moveCursor(e) { customCursor.style.left = e.clientX + 'px'; customCursor.style.top = e.clientY + 'px' } function handleCursorByScreenSize() { if (window.innerWidth >= 1024) { enableCustomCursor() } else { disableCustomCursor() } } handleCursorByScreenSize(); window.addEventListener('resize', handleCursorByScreenSize) }); let swiperInstances = []; function initMobileSwipers() { const sliderElements = document.querySelectorAll('.review__gallery-slider'); const isMobile = window.innerWidth < 600; if (!isMobile && swiperInstances.length > 0) { swiperInstances.forEach(instance => instance.destroy()); swiperInstances = []; return } if (isMobile && swiperInstances.length === 0) { sliderElements.forEach(sliderEl => { const swiper = new Swiper(sliderEl, { slidesPerView: 1, spaceBetween: 16, loop: true, speed: 600, autoplay: { delay: 2000, disableOnInteraction: true, }, }); swiperInstances.push(swiper) }) } } window.addEventListener('load', initMobileSwipers); window.addEventListener('resize', initMobileSwipers); document.addEventListener('DOMContentLoaded', () => { const previews = document.querySelectorAll('.reviews__preview'); const submenuLinks = document.querySelectorAll('.submenu a'); const reviews = document.querySelectorAll('.review'); const backButtons = document.querySelectorAll('.review__back'); if (previews.length === 0 && submenuLinks.length === 0 && reviews.length === 0 && backButtons.length === 0) { return } function showReviewById(id) { if (reviews.length > 0) { reviews.forEach(review => review.classList.remove('show')); const activeReview = document.querySelector(`.review[data-review="${id}"]`); if (activeReview) { activeReview.classList.add('show'); animateReviewIn(activeReview); ScrollTrigger.refresh(); activeReview.scrollTo({ top: 0, left: 0, behavior: 'smooth' }) } } if (submenuLinks.length > 0) { submenuLinks.forEach(link => link.classList.remove('active')); const activeLink = document.querySelector(`.submenu a[data-review="${id}"]`); if (activeLink) { activeLink.classList.add('active') } } if (previews.length > 0) { previews.forEach(p => p.classList.remove('active')); const activePreview = document.querySelector(`.reviews__preview[data-preview="${id}"]`); if (activePreview) { activePreview.classList.add('active') } } } if (previews.length > 0) { previews.forEach(preview => { preview.addEventListener('click', () => { const target = preview.dataset.preview; showReviewById(target) }) }) } if (submenuLinks.length > 0) { submenuLinks.forEach(link => { link.addEventListener('click', (e) => { e.preventDefault(); const target = link.dataset.review; showReviewById(target) }) }) } if (backButtons.length > 0) { backButtons.forEach(button => { button.addEventListener('click', () => { const review = button.closest('.review'); if (review && review.classList.contains('show')) { review.classList.remove('show') } }) }) } }); document.addEventListener('DOMContentLoaded', () => { const submenu = document.querySelector('.submenu'); const slideLinks = document.querySelectorAll('[data-slide]'); if (slideLinks.length === 0) return; slideLinks.forEach(link => { link.addEventListener('click', async (e) => { e.preventDefault(); const nextIndex = +link.dataset.slide; const prevIndex = mainSlider.activeIndex; if (submenu) { if (nextIndex === 2) { submenu.classList.add('opened') } else { submenu.classList.remove('opened') } } if (prevIndex === 2 && nextIndex === 2) { const activeReview = document.querySelector('.review.show'); if (activeReview) { activeReview.classList.remove('show'); activeReview.scrollTo({ top: 0, left: 0, behavior: 'smooth' }) } return } document.querySelectorAll('.review.show').forEach(review => { review.classList.remove('show') }); slideLinks.forEach(l => l.classList.remove('active')); link.classList.add('active'); const prevSlide = mainSlider.slides[prevIndex]; await animateSlideOut(prevSlide, prevIndex); mainSlider.slideTo(nextIndex) }) }) }); function animateReviewIn(review) { if (!review) return; gsap.registerPlugin(ScrollTrigger); animateWordsFromBottom(review.querySelector('.review__title')); gsap.fromTo(review.querySelectorAll('.review__image img'), { clipPath: 'inset(100% 0% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', delay: 1, duration: 1, ease: 'power3.out', }); gsap.fromTo(review.querySelector('.review__main-image img'), { clipPath: 'inset(0% 100% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, ease: 'power3.out', scrollTrigger: { trigger: review.querySelector('.review__main'), scroller: review, start: 'top 90%', } }); const isMobile = window.innerWidth < 600; gsap.fromTo(review.querySelectorAll('.review__main-who, .review__main-author, .review__main-author-details, .review__main-text, .review__main-text-under'), { opacity: 1, clipPath: 'inset(0% 100% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', delay: isMobile ? 1 : 0, duration: 1, ease: 'power3.out', stagger: 0.15, scrollTrigger: { trigger: review.querySelector('.review__main-info'), scroller: review, start: 'top 90%', } }); gsap.fromTo(review.querySelector('.review__gallery-card'), { clipPath: 'inset(0% 100% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, ease: 'power3.out', scrollTrigger: { trigger: review.querySelector('.review__gallery-card'), scroller: review, start: 'top 90%', } }); gsap.fromTo(review.querySelectorAll('.review__gallery-cards img'), { clipPath: 'inset(100% 0% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, ease: 'power3.out', scrollTrigger: { trigger: review.querySelector('.review__gallery-cards'), scroller: review, start: 'top 90%', } }) } const mainSlider = new Swiper('.main-slider', { slidesPerView: 1, allowTouchMove: false, simulateTouch: false, keyboard: false, mousewheel: false, loop: false, effect: 'fade', fadeEffect: { crossFade: true }, speed: 400, on: { slideChangeTransitionStart() { const prevSlide = mainSlider.slides[mainSlider.previousIndex]; const currentSlide = mainSlider.slides[mainSlider.activeIndex]; animateSlideOut(prevSlide, mainSlider.previousIndex); animateSlideIn(currentSlide, mainSlider.activeIndex) } } }); function animateSlideIn(slide, index) { if (!slide) return; gsap.killTweensOf("*"); let tl = gsap.timeline(); switch (index) { case 0: animateWordsFromBottom(slide.querySelector('.hero__title')); tl.to('.hero__overlay', { y: '-100%', duration: 1, ease: 'power2.out' }); tl.fromTo('.hero__subtitle', { opacity: 1, clipPath: 'inset(0% 100% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, ease: 'power3.out', stagger: 0.1 }, "+=0.8"); break; case 1: animateWordsFromBottom(slide.querySelector('.about__text h2')); const overlay = slide.querySelector('.about__overlay'); if (overlay) gsap.set(overlay, { x: 0 }); tl.to(overlay, { x: '100%', duration: 1, ease: 'power2.out' }); tl.from('.about__image', { x: -150, duration: 1, ease: 'power2.out' }, "<"); tl.fromTo(slide.querySelectorAll('.about__text p, .about__text h3, .about__text h4'), { opacity: 1, clipPath: 'inset(0% 100% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, ease: 'power3.out', stagger: 0.1 }, '+=0.8'); break; case 2: tl.fromTo(slide.querySelectorAll('.reviews__preview-image'), { clipPath: 'inset(100% 0% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, ease: 'power3.out', }); tl.fromTo(slide.querySelectorAll('.reviews__preview-name'), { opacity: 1, clipPath: 'inset(0% 100% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, ease: 'power3.out', stagger: 0.1 }, '-=0.5'); break; case 3: tl.fromTo(slide.querySelectorAll('.contacts__item'), { y: 30, clipPath: 'inset(100% 0% 0% 0%)' }, { y: 0, clipPath: 'inset(0% 0% 0% 0%)', duration: 1, stagger: 0.1, ease: 'power3.out', }); break } } function animateSlideOut(slide, index) { if (!slide) return Promise.resolve(); return new Promise(resolve => { let tl = gsap.timeline({ onComplete: resolve }); switch (index) { case 0: tl.to(slide.querySelectorAll('.hero__title span'), { opacity: 0, duration: 0.1, ease: 'power1.in' }); tl.to(slide.querySelectorAll('.hero__subtitle'), { opacity: 0, duration: 0.1, ease: 'power1.in' }, "<"); tl.to('.hero__overlay', { y: '0%', duration: 0.5, ease: 'power2.out' }, "<"); break; case 1: tl.to(slide.querySelectorAll('.about__text h2,.about__text p, .about__text h3, .about__text h4'), { opacity: 0, duration: 0.1, ease: 'power1.in' }); tl.to('.about__overlay', { x: '0%', duration: 0.8, ease: 'power2.out' }, "<"); break; default: resolve() } }) } function wrapWords(element) { if (!element || element.dataset.wrapped) return; const words = element.textContent.trim().split(/\s+/); element.innerHTML = ''; words.forEach(word => { const span = document.createElement('span'); span.textContent = word; span.style.display = 'inline-block'; span.style.marginRight = '0.3em'; element.appendChild(span) }); element.dataset.wrapped = 'true' } function animateWordsFromBottom(element) { if (!element) return; wrapWords(element); gsap.fromTo(element.children, { y: 30, opacity: 0 }, { y: 0, opacity: 1, delay: 1, duration: 0.8, stagger: 0.2, ease: 'power2.out' }) } const progressEl = document.querySelector('.preloader-progress'); const progressObj = { value: 0 }; const progressTween = gsap.to(progressObj, { value: 100, duration: 3, ease: 'power1.out', onUpdate() { progressEl.textContent = `${Math.round(progressObj.value)}%` } }); Promise.all([new Promise(resolve => window.addEventListener('load', resolve)), document.fonts.ready]).then(() => { if (progressObj.value >= 100) { launchAnimations() } else { progressTween.eventCallback('onComplete', launchAnimations) } }); function launchAnimations() { animateSlideIn(mainSlider.slides[mainSlider.activeIndex], mainSlider.activeIndex); gsap.to('.preloader-progress', { y: '-100%', opacity: 0, duration: 0.5, ease: 'power2.out', }); gsap.to('.header__logo svg', { y: '0', delay: 1, opacity: 1, duration: 0.5, ease: 'power2.out', }); gsap.to('.header__top', { height: 68, delay: 2, opacity: 1, duration: 1, ease: 'power2.out', onComplete() { document.querySelector('.header__top')?.classList.remove('header__top-loading') } }); gsap.fromTo('.header__menu', { y: 20, opacity: 0 }, { y: 0, opacity: 1, delay: 3, duration: 1, ease: 'power2.out' }); gsap.fromTo('.header__menu li a svg', { opacity: 0 }, { opacity: 1, delay: 4, duration: 1, ease: 'power2.in' }); gsap.fromTo('.hero__title', { y: 40, opacity: 0 }, { y: 0, opacity: 1, delay: 3, duration: 1, ease: 'power3.out' }); gsap.fromTo('.hero__subtitle p', { opacity: 1, clipPath: 'inset(0% 100% 0% 0%)' }, { clipPath: 'inset(0% 0% 0% 0%)', duration: 1, delay: 3.5, ease: 'power3.out', stagger: 0.1 }) } document.addEventListener('DOMContentLoaded', () => { if (window.innerWidth >= 1024) { const contactItems = document.querySelectorAll('.contacts__item'); if (contactItems.length > 0) { contactItems.forEach(link => { link.addEventListener('mousemove', e => { const rect = link.getBoundingClientRect(); const x = e.clientX - rect.left - rect.width / 2; const y = e.clientY - rect.top - rect.height / 2; link.style.transform = `translate(${x * 0.8}px,${y * 0.8}px)` }); link.addEventListener('mouseleave', () => { link.style.transform = 'translate(0, 0)' }) }) } } }); document.addEventListener('DOMContentLoaded', () => { const videoContainers = document.querySelectorAll('.video-review'); videoContainers.forEach(container => { const poster = container.querySelector('.video-review__poster'); const playButton = container.querySelector('.video-review__play'); const video = container.querySelector('video'); const playVideo = () => { const videoSrc = poster.dataset.video; if (!video.src) { video.src = videoSrc } poster.style.display = 'none'; playButton.style.display = 'none'; video.style.display = 'block'; video.play() }; console.log('Подставляемый src:', poster.dataset.video); poster.addEventListener('click', playVideo); playButton.addEventListener('click', playVideo) }) }) })() })();